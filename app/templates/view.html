{% extends "base.html" %}
{% block title %}View all users{% endblock %}
{% block content %}

<div class="row justify-content-center mb-4">
    <div class="col-lg-6 col-sm-6 my-6">
        <form action="{{ url_for('main.user.view_users') }}" method="get">
            <div class="input-group">
                <select class="form-select" name="type">
                    <option>Username</option>
                    <option>Email</option>
                    <option>Address</option>
                    <option>Phone number</option>
                    <option>Roles</option>
                </select>
                <input type="text" name="cid" class="form-control" placeholder="filter by this value" required>
                <button class="btn btn-outline-light" type="submit">Show</button>
                <a href="{{ url_for('main.user.view_users') }}" class="btn btn-outline-light">Reset</a>
            </div>
        </form>
    </div>
</div>

<div class="row pt-4 justify-content-center">
    <p class="text-center fs-3 pb-4">Current registered users</p>
    <table class="table table-striped table-hover w-auto">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Address</th>
                <th>Phone number</th>
                <th>Roles</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td class="px-2">{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.address.postalcode }} {{ user.address.city }}, {{ user.address.street }}</td>
                <td>{{ user.phone_number }}</td>
                <td>{{ roles[loop.index0] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
	{% endblock %}
